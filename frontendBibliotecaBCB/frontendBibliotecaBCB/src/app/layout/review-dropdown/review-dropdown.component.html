<hr>
<div class="review-dropdown">
    <button class="btn dropdown-button" (click)="toggleDropdown()" [class.active]="isDropdownOpen" aria-expanded="false">
    <span style="font-size: larger;">Recenzii </span>
    <span class="review-summary">
        <div class="star-rating">
          <div class="star-rating-top" [style.width.%]="averageRating / 5 * 100">
            <span>★</span>
            <span>★</span>
            <span>★</span>
            <span>★</span>
            <span>★</span>
          </div>
          <div class="star-rating-bottom">
            <span>★</span>
            <span>★</span>
            <span>★</span>
            <span>★</span>
            <span>★</span>
          </div>
        </div>  
        <span style="padding-left: 10px;">{{numberOfReviews}}</span>
    </span>
    <span class="dropdown-arrow" [ngClass]="{'rotate': isDropdownOpen}">&#x25BC;</span>
    
    </button>
    <div class="dropdown-content" *ngIf="isDropdownOpen">
    <!-- Review content goes here -->

    <button class="btn btn-primary my-2" (click)="showReviewForm = !showReviewForm">Adaugă o recenzie</button>
    <div *ngIf="showReviewForm">
      <form>
        <div class="form-group">
          <label for="reviewRating" style="margin-right: 5px;">Rating</label>
          <ngb-rating [(rate)]="reviewRating" [max]="5"></ngb-rating>
        </div>
        <div class="form-group">
          <label for="reviewDescription">Descriere:</label>
          <textarea class="form-control" id="reviewDescription" rows="3" [(ngModel)]="reviewDescription" name="reviewDescription"></textarea>
        </div>
        <div class="form-group d-flex justify-content-end">
          <button type="button" class="btn btn-secondary mr-2 add-review-btn" (click)="cancelReview()">Renunță</button>
          <button type="submit" class="btn btn-success add-review-btn" [disabled]="!this.reviewRating" (click)="submitReview()">Trimite recenzia</button>
        </div>
      </form>
    </div>


    <div *ngFor="let review of userReviews" class="user-review px-4 py-2">
        <hr>
        <span><strong>{{ review.username }}</strong></span>
        <span class="review-summary" style="margin-left: 10px;">
          <div class="star-rating">
            <div class="star-rating-top" [style.width.%]="review.rating / 5 * 100">
              <span>★</span>
              <span>★</span>
              <span>★</span>
              <span>★</span>
              <span>★</span>
            </div>
            <div class="star-rating-bottom">
              <span>★</span>
              <span>★</span>
              <span>★</span>
              <span>★</span>
              <span>★</span>
            </div>
          </div>  
        </span>
        <div class="review-comment">
          {{ review.description }}
        </div>
    </div>
    </div>
</div>